<div class="section-8 row">
    <div class="col-6"></div>
    <div class="col-6 row ">
        <div class="" style="margin-top: 20%">
            <img src="{{asset('images/sec8/healthy.png')}}" alt="" class="img-fluid">
        </div>
        <div class="col-2"></div>
        <div class="col-6">
            <div class="card rounded-custom shadow-effect article-show card-1" style="width:100%; height: 75%;">
                <img class="card-img-top" src="{{asset('images/sec8/mom-kiss-son.png')}}" alt="Card image">
                <div class="card-body">
                    <h4 class="card-title">Min Min Care ứng dụng công nghệ đột phá Nano Curcurmin</h4>
                    <p class="card-text">Min Min Care là thương hiệu tiên phong về ngũ cốc dinh dưỡng cao cấp dành
                        riêng
                        cho mẹ bầu và mẹ sau sinh. Được nghiên cứu bởi đội ngũ chuyên gia....</p>
                    <div class="d-flex align-content-center justify-content-center">
                        <a href="#" class="btn green-bg btn-sm mb-3 rounded-pill mitr-medium text-white">XEM CHI TIẾT</a>
                    </div>
                </div>
            </div>
            <div class="card rounded-custom shadow-effect article-show d-none" style="width:100%; height: 75%;">
                <img class="card-img-top" src="{{asset('images/sec8/mom-kiss-son.png')}}" alt="Card image">
                <div class="card-body">
                    <h4 class="card-title">Mi Min Care ứng dụng công nghệ đột phá Nano Curcurmin</h4>
                    <p class="card-text">Min Min Care là thương hiệu tiên phong về ngũ cốc dinh dưỡng cao cấp dành
                        riêng
                        cho mẹ bầu và mẹ sau sinh. Được nghiên cứu bởi đội ngũ chuyên gia....</p>
                    <div class="d-flex align-content-center justify-content-center">
                        <a href="#" class="btn green-bg btn-sm mb-3 rounded-pill  text-white mitr-medium">XEM CHI TIẾT</a>
                    </div>
                </div>
            </div>
            <div class="card rounded-custom shadow-effect article-show d-none" style="width:100%; height: 75%;">
                <img class="card-img-top" src="{{asset('images/sec8/mom-kiss-son.png')}}" alt="Card image">
                <div class="card-body">
                    <h4 class="card-title">Min Mi Care ứng dụng công nghệ đột phá Nano Curcurmin</h4>
                    <p class="card-text">Min Min Care là thương hiệu tiên phong về ngũ cốc dinh dưỡng cao cấp dành
                        riêng
                        cho mẹ bầu và mẹ sau sinh. Được nghiên cứu bởi đội ngũ chuyên gia....</p>
                    <div class="d-flex align-content-center justify-content-center">
                        <a href="#" class="btn green-bg btn-sm mb-3 rounded-pill  text-white mitr-medium">XEM CHI TIẾT</a>
                    </div>
                </div>
            </div>
            <div class="mt-3 d-flex justify-content-center ">
                <span class="circle-sec-8 me-1 circle-sec-8-1" id="1"></span>
                <span class="circle-sec-8 me-1 bg-white" id="2"></span>
                <span class="circle-sec-8 me-1 bg-white" id="3"></span>
            </div>
            <div class="mt-3 d-flex justify-content-center ">
                <div class="d-flex align-content-center justify-content-center">
                    <a href="#" class="btn green-bg btn-block mb-3 rounded-pill border-2 border-white text-white mitr-medium ">XEM
                        THÊM</a>
                </div>
            </div>
        </div>
        <div class="col-4 position-relative">
            <div class="position-absolute sec-8-next" style="padding-top: 80%; padding-left: 29%; z-index: 999">
                <img src="{{asset('images/arrow-r.png')}}" alt="Arrow" class="arrow-img ">
            </div>
            <div class="card rounded-custom shadow-effect article-next card-next-1"
                 style="width:160%; height: 70% ;opacity: 0.5">
                <img class="card-img-top" src="{{asset('images/sec8/mom-kiss-son.png')}}" alt="Card image">
                <div class="card-body">
                    <h4 class="card-title">Min Min Care ứng dụng công nghệ đột phá Nano Curcurmin</h4>
                    <p class="card-text">Min Min Care là thương hiệu tiên phong về ngũ cốc dinh dưỡng cao cấp dành riêng
                        cho mẹ bầu và mẹ sau sinh. Được nghiên cứu bởi đội ngũ chuyên gia....</p>
                    <div class="d-flex align-content-center justify-content-center">
                        <a href="#" class="btn green-border green-text btn-sm mb-3 rounded-pill mitr-medium">XEM CHI TIẾT</a>
                    </div>
                </div>
            </div>
            <div class="card rounded-custom shadow-effect article-next d-none"
                 style="width:160%; height: 70% ;opacity: 0.5">
                <img class="card-img-top" src="{{asset('images/sec8/mom-kiss-son.png')}}" alt="Card image">
                <div class="card-body">
                    <h4 class="card-title">Mi Min Care ứng dụng công nghệ đột phá Nano Curcurmin</h4>
                    <p class="card-text">Min Min Care là thương hiệu tiên phong về ngũ cốc dinh dưỡng cao cấp dành riêng
                        cho mẹ bầu và mẹ sau sinh. Được nghiên cứu bởi đội ngũ chuyên gia....</p>
                    <div class="d-flex align-content-center justify-content-center">
                        <a href="#" class="btn green-border green-text btn-sm mb-3 rounded-pill mitr-medium">XEM CHI TIẾT</a>
                    </div>
                </div>
            </div>
            <div class="card rounded-custom shadow-effect article-next d-none"
                 style="width:160%; height: 70% ;opacity: 0.5">
                <img class="card-img-top" src="{{asset('images/sec8/mom-kiss-son.png')}}" alt="Card image">
                <div class="card-body">
                    <h4 class="card-title">Mi Mi Care ứng dụng công nghệ đột phá Nano Curcurmin</h4>
                    <p class="card-text">Min Min Care là thương hiệu tiên phong về ngũ cốc dinh dưỡng cao cấp dành riêng
                        cho mẹ bầu và mẹ sau sinh. Được nghiên cứu bởi đội ngũ chuyên gia....</p>
                    <div class="d-flex align-content-center justify-content-center">
                        <a href="#" class="btn green-border green-text btn-sm mb-3 rounded-pill mitr-medium">XEM CHI TIẾT</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
<style>
    .section-8 {
        background: url({{asset('images/sec8/mon-with-son.png')}}) no-repeat center center;
        background-size: cover;
        height: 150vh;
    }

    .circle-sec-8 {
        height: 15px;
        width: 15px;
        border: 2px solid #59843d; /* Đặt viền xanh với độ dày 2px */
        background-color: #59843d;
        border-radius: 50%;
        display: inline-block;
    }

    .rounded-custom {
        border-radius: 4%
    }

    .green-border {
        border: 2px solid #59843d;
    }

    .green-text {
        color: #59843d;
    }

    .col {
        overflow: hidden;
    }

    .arrow-img {
        cursor: pointer;
    }
    .card-title{
        font-family: "Mulish Black", sans-serif;
    }
    .card-text{
        font-family: "Mulish SemiBold", sans-serif;
    }
</style>
<script>
    $(document).ready(function () {
        $('.sec-8-next').click(function () {
            slideToNextImage();
        });
        // $('.prev').click(function () {
        //     console.log('prev')
        //     slideToPrevImage();
        // });
        let intervalId;

        function startAutoPlay() {
            intervalId = setInterval(function () {
                slideToNextImage();
            }, 15000); // Thời gian giữa các lần click (ở đây là 2000ms = 2 giây)
        }

        function stopAutoPlay() {
            clearInterval(intervalId);
        }

        startAutoPlay(); // Bắt đầu auto play khi trang được tải

        $('.sec-8-next').hover(function () {
            stopAutoPlay();
        }, function () {
            startAutoPlay();
        })
    })

    // $('.prev').hover(function () {
    //     stopAutoPlay();
    // }, function () {
    //     startAutoPlay();
    // });

    // var isTouching = false;
    // var touchStartX = 0;
    // var touchEndX = 0;
    // var threshold = 50; // Ngưỡng di chuyển tối thiểu để kích hoạt hành động
    // var touch_area = $('.section_2_mobile');
    //
    // touch_area.on('touchstart', function (event) {
    //     touchStartX = event.touches[0].clientX;
    //     isTouching = true;
    // });
    //
    // touch_area.on('touchmove', function (event) {
    //     if (isTouching) {
    //         touchEndX = event.touches[event.touches.length - 1].clientX;
    //     }
    // });
    //
    // touch_area.on('touchend', function (event) {
    //     if (isTouching) {
    //         isTouching = false;
    //         touchEndX = event.changedTouches[event.changedTouches.length - 1].clientX;
    //         var swipeLength = touchEndX - touchStartX;
    //         console.log(swipeLength);
    //         if (swipeLength > threshold) {
    //             // Lướt chạm sang phải
    //             // Kích hoạt hành động cho nút bấm sang phải
    //             console.log('next_mobile');
    //             $('.next').prop('disabled', true);
    //             stopAutoPlay();
    //             slideToNextImage();
    //             setTimeout(function () {
    //                 $('.next').prop('disabled', false);
    //             }, 500);
    //         }
    //         if (swipeLength < -threshold) {
    //             // Lướt chạm sang trái
    //             // Kích hoạt hành động cho nút bấm sang trái
    //             console.log('prev_mobile');
    //             $('.prev').prop('disabled', true);
    //             stopAutoPlay();
    //             slideToPrevImage();
    //             setTimeout(function () {
    //                 $('.prev').prop('disabled', false);
    //             }, 500);
    //         }
    //     }
    // });


    function slideToNextImage() {
        let currentImage = $('.article-show:not(.d-none)');
        let nextImage = currentImage.next('.article-show');

        let currentNextImage = $('.article-next:not(.d-none)');
        let nextNextImage = currentNextImage.next('.article-next');

        let currentRectangle = $('.circle-sec-8:not(.bg-white)');
        console.log(currentRectangle);
        let nextRectangle = currentRectangle.next('.circle-sec-8');
        console.log(nextRectangle);
        // let currentText = $('.number:not(.text-grey)');
        // let nextText = currentText.parent().next().find('.number');

        // let currentContent = $('.content:not(.d-none)');
        // let nextContent = currentContent.next('.content');
        // Nếu đã đến ảnh cuối cùng, chuyển về ảnh đầu tiên

        if (nextImage.length === 0) {
            nextImage = $('.card-1');
        }
        if (nextNextImage.length === 0) {
            nextNextImage = $('.card-next-1');
        }
        if (nextRectangle.length === 0) {
            nextRectangle = $('.circle-sec-8-1');
        }
        // if (nextText.length === 0) {
        //     nextText = $('.number.first_text');
        // }
        //
        // if (nextContent.length === 0) {
        //     nextContent = $('.content.first_content');
        // }

        // Loại bỏ class d-none khỏi ảnh tiếp theo và thêm class d-none cho ảnh hiện tại
        currentImage.fadeOut(1000);
        currentImage.addClass('d-none');
        nextImage.fadeIn(1000)
        nextImage.removeClass('d-none');


        currentNextImage.addClass('d-none');
        nextNextImage.removeClass('d-none');

        currentRectangle.addClass('bg-white');
        nextRectangle.removeClass('bg-white');

        // currentText.addClass('text-grey');
        // currentText.removeClass('text-red');
        // nextText.removeClass('text-grey');
        // nextText.addClass('text-red');
        //
        // currentContent.addClass('d-none');
        // nextContent.removeClass('d-none');
    };
</script>
